<section class="my-5">
  <a
    class="btn btn-primary mb-3"
    [routerLink]="['adicionar']"
    routerLinkActive="active"
  >
    Adicionar
  </a>
  <div class="card my-3">
    <div class="card-header">
      <div class="d-flex justify-content-between">
        <h4>Avisos</h4>
        <button class="btn btn-link" (click)="onRefresh()">Atualizar</button>
      </div>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-hover table-striped" *ngIf="(avisos$ | async) as avisos; else loadingError">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Title</th>
              <th scope="col">Content</th>
              <th scope="col">Tags</th>
              <th scope="col">Created At</th>
              <th scope="col">Updated At</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let aviso of avisos">
              <td>{{ aviso.id }}</td>
              <td>{{ aviso.title }}</td>
              <td>{{ aviso.content }}</td>
              <td>{{ aviso.tags }}</td>
              <td>{{ aviso.createdAt }}</td>
              <td>{{ aviso.updatedAt }}</td>
              <td>
                <button class="btn btn-secondary">Editar</button>
                <button class="btn btn-danger">Excluir</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <ng-template #loadingError>
        <div *ngIf="error$ | async; else loading">
          <div class="alert alert-danger">Erro ao carregar.</div>
        </div>
        <ng-template #loading>
          <div class="d-flex justify-content-center">
            <div class="spinner-border text-primary" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
        </ng-template>
      </ng-template>
    </div>
  </div>
</section>
